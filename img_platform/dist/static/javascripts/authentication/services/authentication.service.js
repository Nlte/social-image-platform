!function(){"use strict";function t(t,n){function e(t,e,c){function o(n,c,o,i){s.login(t,e)}function i(t,n,e,c){console.error("Epic failure!")}return n.post("/api/v1/accounts/",{username:c,password:e,email:t}).then(o,i)}function c(t,e){function c(t,n,e,c){s.setAuthenticatedAccount(t.data),window.location="/"}function o(t,n,e,c){console.error("Epic failure!")}return n.post("/api/v1/auth/login/",{email:t,password:e}).then(c,o)}function o(){if(t.authenticatedAccount)return JSON.parse(t.authenticatedAccount)}function i(){return!!t.authenticatedAccount}function u(n){t.authenticatedAccount=JSON.stringify(n)}function a(){delete t.authenticatedAccount}function r(){function t(t,n,e,c){s.unauthenticate(),window.location="/"}function e(t,n,e,c){console.error("Epic failure!")}return n.post("/api/v1/auth/logout/").then(t,e)}var s={getAuthenticatedAccount:o,isAuthenticated:i,login:c,logout:r,register:e,setAuthenticatedAccount:u,unauthenticate:a};return s}angular.module("platform.authentication.services").factory("Authentication",t),t.$inject=["$cookies","$http"]}();